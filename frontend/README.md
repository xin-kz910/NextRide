## 前端畫面和風險呈現
### 內容
- 正確計算每一段轉乘的等待時間
- 依照使用者輸入的 buffer 判斷風險
- 呈現「為什麼某方案不建議或不可行」

> **所有方案（包含高風險與不可行方案）都會顯示出來，  
> 只用顏色與文字說明風險，還沒進行淘汰。**


### 檔案說明

- **render_plans.js**（渲染控制器 / UI 組裝）
  - 把資料（plans）轉成畫面（cards）
  - 處理以下狀態：
    - loading：顯示「查詢中…」
    - empty：顯示「沒有結果」
    - error：顯示錯誤訊息（有 escape，避免 XSS）
    - normal：渲染每個方案卡片

- **risk_rules.js**（規則引擎 / 純計算）
  - 專門處理「時間 → 分鐘 → 轉乘等待 → 風險 → 總耗時」
  - 不包含任何 DOM 或畫面相關程式碼

- **phase4_preview.html**（前端預覽頁 / 容器）
  - 提供一個最小可跑的畫面

- **fake_plans.js**（假資料 / demo 用資料集）
  - 提供固定格式的 plans
  - 讓前端 UI 在未串後端前也能展示結果


### 風險顏色定義
以「轉乘等待時間」與使用者設定的 `buffer` 為判斷依據：

| 顏色 | 意義 | 條件 |
|----|----|----|
| 綠色（低風險） | 轉乘充裕 | 所有轉乘等待 ≥ buffer |
| 黃色（中風險） | 轉乘偏趕 | 任一轉乘等待在 0 ~ buffer-1 |
| 紅色（高風險 / 不可行） | 極度不建議或接不上 | 任一轉乘等待 < 3 或 < 0 |

> 紅色方案中，若等待時間為負數（<0），代表 **下一段班次早於抵達時間，實務上一定接不上**。



### 補充說明
在這個階段有**刻意**顯示一定來不及的方案：

- 系統先完整產生所有可能的轉乘組合
- 並標示其風險與原因
- 讓使用者或開發者能清楚理解「為什麼不行」

真正的淘汰（移除不可行方案）會在 **下一階段** 進行。


### 開啟方式
從 VS Code 打開 `phase4_preview.html`，  
點擊右下角的 **Go Live**，畫面就會出現在瀏覽器上。

